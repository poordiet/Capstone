<p id="notice"><%= notice %></p>

<div class="container">
<br>
<h1>Pets</h1>
<hr>

<table id="example" class="table table-hover table-bordered">
		<thead class="thead-dark">
    <tr>
    <tr>
      <th>Pet Name</th>
      <th>Customer</th>
      <th>Pet Gender</th>
      <th>Pet Birthdate</th>
      <th>Pet Color</th>
      <th>Pet Breed</th>
      <th>Pet Weight (lbs)</th>
      <th>Pet Status</th>
      <th>Show</th>
      <th>Edit</th>
    </tr>
  </thead>

  <tbody>
    <% @pets.each do |pet| %>
      <tr>
        <td><%= pet.pet_name %></td>
        <td><%= pet.customer.customer_first_name %> <%= pet.customer.customer_last_name %></td>
        <td><%= pet.pet_gender %></td>
        <td>
        <%if pet.pet_birthdate.nil?%>
         <%= pet.pet_birthdate%>
        <%else%>
        <%= pet.pet_birthdate.to_formatted_s(:long) %>
        <%end%>
        </td>
        <td><%= pet.pet_color %></td>
        <td><%= pet.pet_breed %></td>
        <td><%if pet.pet_weight.nil?%>
         <%= pet.pet_weight%>
        <%else%>
        <%= pet.pet_weight.to_i %>
        <%end%></td>
        <td><%= pet.pet_status.status%></td>
        <td><%= link_to 'Show', pet, class: 'btn btn-block btn-info'%></td>
        <td><%= link_to 'Edit', edit_pet_path(pet), class: 'btn btn-block btn-warning' %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>
</div>


<script type="text/javascript">
    var dataTable = $('#example').DataTable( {
    

    "columns": [
    null,
    null,
    null,
    {"type": "date"},
    null,
    null,
    null,
    null,
    null,
    null
  ]
    
    

} );

  $(document).ready(function() {
   dataTable;
  });
  
  document.addEventListener("turbolinks:before-cache", function() {
    if (dataTable !== null) {
    dataTable.destroy();  
    dataTable = null;
    }
  });

</script>