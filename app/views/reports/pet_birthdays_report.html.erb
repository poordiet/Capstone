<div class="container">
<br>
<hr>
<br>

 <h2>Pet Birthdays this Month</h2>
   <table id="example" class="table table-striped table-bordered">
	<thead class="thead-dark">
      <th>Customer</th>
      <th>Customer Phone</th>
      <th>Pet</th>
      <th>Birthday</th>
		</thead>
		<tbody>
     <% @pets.each do |pets| %>
		<tr>
      <% if pets.pet_birthdate.present? && pets.pet_birthdate.strftime("%m%d") >= Date.today.beginning_of_month.strftime('%m%d') &&  pets.pet_birthdate.strftime("%m%d") <= Date.today.end_of_month.strftime('%m%d')%>
      <td><%= pets.customer.customer_first_name %> <%= pets.customer.customer_last_name %></td>
      <td><%= pets.customer.customer_primary_phone %></td>
      <td><%= pets.pet_name %></td>
      <td><%= pets.pet_birthdate.to_formatted_s(:long)%></td>
        <% end %>
       <% end %>
		</tbody>
	</table>

    <br>
    <hr>
    <br>
</div>



<script type="text/javascript">
  var dataTable = $('#example').DataTable();

  $(document).ready(function() {
   dataTable;
  });
  
  document.addEventListener("turbolinks:before-cache", function() {
    if (dataTable !== null) {
    dataTable.destroy();  
    dataTable = null;
    }
  });

</script>